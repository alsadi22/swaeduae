<!doctype html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>My Profile â€” SwaedUAE</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;background:#faf7ef;margin:0}
  .wrap{max-width:900px;margin:3rem auto;padding:2rem;background:#fff;border-radius:16px;box-shadow:0 10px 24px rgba(0,0,0,.06)}
  h1{margin:0 0 1rem}
  .row{display:grid;grid-template-columns:180px 1fr;gap:.5rem .75rem;margin-bottom:1.5rem}
  .key{color:#666}
  .pill{display:inline-block;background:#eef2ff;color:#1e40af;border-radius:999px;padding:.25rem .6rem;margin-right:.35rem}
  form label{display:block;margin:.6rem 0 .2rem}
  input,select{width:100%;padding:.6rem .7rem;border:1px solid #d7d7d7;border-radius:10px}
  .two{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}
  .btn{display:inline-block;margin-top:1rem;padding:.6rem .9rem;border-radius:10px;background:#1e66f5;color:#fff;border:0}
  .ok{background:#f1f8ff;color:#084298;padding:.6rem .8rem;border-radius:10px;margin:.5rem 0}
  .err{background:#fff2f0;color:#b02121;padding:.6rem .8rem;border-radius:10px;margin:.5rem 0}
</style></head><body>
  <div class="wrap">
    <h1>My Profile</h1>
    @php($u = Auth::user())
    @php($vp = \App\Models\VolunteerProfile::firstOrNew(['user_id'=>$u->id]))
    @if (session('status')) <div class="ok">{{ session('status') }}</div> @endif
    @if ($errors->any()) <div class="err">@foreach($errors->all() as $e)<div>{{ $e }}</div>@endforeach</div> @endif

    <div class="row">
      <div class="key">Name</div><div>{{ $u->name }}</div>
      <div class="key">Email</div><div>{{ $u->email }}</div>
      <div class="key">Roles</div>
      <div>@forelse ($u->getRoleNames() as $r) <span class="pill">{{ $r }}</span>@empty <span class="pill">volunteer</span> @endforelse</div>
    </div>

    <form method="POST" action="{{ route('my.profile.update') }}">
      @csrf
      <div class="two">
        <div>
          <label>Arabic Name</label>
          <input name="name_ar" value="{{ old('name_ar', $vp->name_ar) }}">
        </div>
        <div>
          <label>Gender</label>
          <select name="gender">
            @foreach (['Male','Female','Prefer not to say'] as $g)
              <option value="{{ $g }}" @selected(old('gender',$vp->gender)===$g)>{{ $g }}</option>
            @endforeach
          </select>
        </div>
      </div>

      <div class="two">
        <div>
          <label>Date of Birth</label>
          <input type="date" name="dob" value="{{ old('dob', optional($vp->dob)->format('Y-m-d')) }}">
        </div>
        <div>
          <label>Nationality</label>
          <input name="nationality" value="{{ old('nationality', $vp->nationality) }}">
        </div>
      </div>

      <div class="two">
        <div>
          <label>Emirate</label>
          <input name="emirate" value="{{ old('emirate', $vp->emirate) }}">
        </div>
        <div>
          <label>City</label>
          <input name="city" value="{{ old('city', $vp->city) }}">
        </div>
      </div>

      <div class="two">
        <div>
          <label>Emirates ID</label>
          <input name="emirates_id" value="{{ old('emirates_id', $vp->emirates_id) }}">
        </div>
        <div>
          <label>Emirates ID Expiry</label>
          <input type="date" name="emirates_id_expiry" value="{{ old('emirates_id_expiry', optional($vp->emirates_id_expiry)->format('Y-m-d')) }}">
        </div>
      </div>

      <div class="two">
        <div>
          <label>Mobile</label>
          <input name="mobile" value="{{ old('mobile', $u->mobile) }}">
        </div>
        <div>
          <label>Phone</label>
          <input name="phone" value="{{ old('phone', $u->phone) }}">
        </div>
      </div>

      <button class="btn" type="submit">Save Profile</button>
    </form>
  </div>
</body></html>
